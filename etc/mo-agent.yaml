log:
  level: info
  format: console

general:
  shortTable: false
  retention:
    # 默认不关闭定期删除
    retentionDisabled: false
    deleteInterval: "1h"
    onceDeleteLimit: 10000
    timeWait: "200ms"
    logRetentionPeriod: "336h"        # 保留 14天
    metricRetentionPeriod: "336h"        # 保留 14天
    traceRetentionPeriod: "336h"        # 保留 14天

agent:
  server:
    host: localhost
    port: 8000
    privateKeyFile:
    publicKeyFile:
    tokenEffectiveTime: 2
    certPath:
    mode: playground
    maxAllow: 10
    maxWait: 3s

  fs:
    name: ETL
    backend: DISK-ETL
    dataDir: "mo-data/etl"
    s3:
      endpoint: s3.us-west-2.amazonaws.com
      bucket: bucket_name
      keyPrefix:

  mo:
    ## type valid in [cfg, env, cluster]
    type: cfg
    ## labels are necessary while type = cluster
    labels:
      - matrixone.cloud/role=observability
    host: 127.0.0.1
    port: 6001
    user: dump
    password: 111
    connectTimeout: 5m
    maxOpens: 5
    maxIdles: -1
    initPingCnt: 60
    # default: 1 GB
    maxAllowedPacket: 134217728

  app:
    uuid: 8f0e5ef6de8fe306d772fba5d29e75e8
    account: sys
    database: observability
    # val in [tae, csv], default: tae
    extension: tae
    # val in [sql, fs], default: sql
    exporter: sql
    exportThreads: 32
    exportInterval: 3s
    bufferBytes: 2097152
    showAccessLog: true
    # api data handle queue size
    queueSize : 262144 # queue mem cost : 2MB
    # metric table name cache size
    metricCacheSize : 4096
    # label series id cache size
    labelCacheSize : 200000
    # log table name cache size
    logCacheSize : 512
    preCreatetableWorker : 5
    # pre load label id limit
    labelPreloadLimit : 200000
    labelFlushSize: 2097152
    labelFlushInterval: 3s
    metricTablesPreCreate: 
    # prometheus metric
    - go_gc_duration_seconds                                                 
    - go_gc_duration_seconds_count                                           
    - go_gc_duration_seconds_sum                                             
    - go_goroutines                                                          
    - go_info                                                                
    - go_memstats_alloc_bytes                                                
    - go_memstats_alloc_bytes_total                                          
    - go_memstats_buck_hash_sys_bytes                                        
    - go_memstats_frees_total                                                
    - go_memstats_gc_sys_bytes                                               
    - go_memstats_heap_alloc_bytes                                           
    - go_memstats_heap_idle_bytes                                            
    - go_memstats_heap_inuse_bytes                                           
    - go_memstats_heap_objects                                               
    - go_memstats_heap_released_bytes                                        
    - go_memstats_heap_sys_bytes                                             
    - go_memstats_last_gc_time_seconds                                       
    - go_memstats_lookups_total                                              
    - go_memstats_mallocs_total                                              
    - go_memstats_mcache_inuse_bytes                                         
    - go_memstats_mcache_sys_bytes                                           
    - go_memstats_mspan_inuse_bytes                                          
    - go_memstats_mspan_sys_bytes                                            
    - go_memstats_next_gc_bytes                                              
    - go_memstats_other_sys_bytes                                            
    - go_memstats_stack_inuse_bytes                                          
    - go_memstats_stack_sys_bytes                                            
    - go_memstats_sys_bytes                                                  
    - go_threads                                                                                                                          
    - net_conntrack_dialer_conn_attempted_total                              
    - net_conntrack_dialer_conn_closed_total                                 
    - net_conntrack_dialer_conn_established_total                            
    - net_conntrack_dialer_conn_failed_total                                 
    - net_conntrack_listener_conn_accepted_total                             
    - net_conntrack_listener_conn_closed_total                               
    - process_cpu_seconds_total                                              
    - process_max_fds                                                        
    - process_open_fds                                                       
    - process_resident_memory_bytes                                          
    - process_start_time_seconds                                             
    - process_virtual_memory_bytes                                           
    - process_virtual_memory_max_bytes                                       
    - prometheus_agent_active_series                                         
    - prometheus_agent_checkpoint_creations_failed_total                     
    - prometheus_agent_checkpoint_creations_total                            
    - prometheus_agent_checkpoint_deletions_failed_total                     
    - prometheus_agent_checkpoint_deletions_total                            
    - prometheus_agent_clean_start                                           
    - prometheus_agent_corruptions_total                                     
    - prometheus_agent_data_replay_duration_seconds                          
    - prometheus_agent_deleted_series                                        
    - prometheus_agent_exemplars_appended_total                              
    - prometheus_agent_out_of_order_samples_total                            
    - prometheus_agent_samples_appended_total                                
    - prometheus_agent_truncate_duration_seconds_count                       
    - prometheus_agent_truncate_duration_seconds_sum                         
    - prometheus_api_remote_read_queries                                     
    - prometheus_build_info                                                  
    - prometheus_config_last_reload_success_timestamp_seconds                
    - prometheus_config_last_reload_successful                               
    - prometheus_http_request_duration_seconds_bucket                        
    - prometheus_http_request_duration_seconds_count                         
    - prometheus_http_request_duration_seconds_sum                           
    - prometheus_http_requests_total                                         
    - prometheus_http_response_size_bytes_bucket                             
    - prometheus_http_response_size_bytes_count                              
    - prometheus_http_response_size_bytes_sum                                
    - prometheus_notifications_alertmanagers_discovered                      
    - prometheus_notifications_dropped_total                                 
    - prometheus_notifications_queue_capacity                                
    - prometheus_notifications_queue_length                                  
    - prometheus_ready                                                       
    - prometheus_remote_storage_bytes_total                                  
    - prometheus_remote_storage_enqueue_retries_total                        
    - prometheus_remote_storage_exemplars_dropped_total                      
    - prometheus_remote_storage_exemplars_failed_total                       
    - prometheus_remote_storage_exemplars_in_total                           
    - prometheus_remote_storage_exemplars_pending                            
    - prometheus_remote_storage_exemplars_retried_total                      
    - prometheus_remote_storage_exemplars_total                              
    - prometheus_remote_storage_highest_timestamp_in_seconds                 
    - prometheus_remote_storage_histograms_dropped_total                     
    - prometheus_remote_storage_histograms_failed_total                      
    - prometheus_remote_storage_histograms_in_total                          
    - prometheus_remote_storage_histograms_pending                           
    - prometheus_remote_storage_histograms_retried_total                     
    - prometheus_remote_storage_histograms_total                             
    - prometheus_remote_storage_max_samples_per_send                         
    - prometheus_remote_storage_metadata_bytes_total                         
    - prometheus_remote_storage_metadata_failed_total                        
    - prometheus_remote_storage_metadata_retried_total                       
    - prometheus_remote_storage_metadata_total                               
    - prometheus_remote_storage_queue_highest_sent_timestamp_seconds         
    - prometheus_remote_storage_samples_dropped_total                        
    - prometheus_remote_storage_samples_failed_total                         
    - prometheus_remote_storage_samples_in_total                             
    - prometheus_remote_storage_samples_pending                              
    - prometheus_remote_storage_samples_retried_total                        
    - prometheus_remote_storage_samples_total                                
    - prometheus_remote_storage_sent_batch_duration_seconds_bucket           
    - prometheus_remote_storage_sent_batch_duration_seconds_count            
    - prometheus_remote_storage_sent_batch_duration_seconds_sum              
    - prometheus_remote_storage_shard_capacity                               
    - prometheus_remote_storage_shards                                       
    - prometheus_remote_storage_shards_desired                               
    - prometheus_remote_storage_shards_max                                   
    - prometheus_remote_storage_shards_min                                   
    - prometheus_remote_storage_string_interner_zero_reference_releases_total
    - prometheus_sd_azure_failures_total                                     
    - prometheus_sd_consul_rpc_duration_seconds                              
    - prometheus_sd_consul_rpc_duration_seconds_count                        
    - prometheus_sd_consul_rpc_duration_seconds_sum                          
    - prometheus_sd_consul_rpc_failures_total                                
    - prometheus_sd_discovered_targets                                       
    - prometheus_sd_dns_lookup_failures_total                                
    - prometheus_sd_dns_lookups_total                                        
    - prometheus_sd_failed_configs                                           
    - prometheus_sd_file_read_errors_total                                   
    - prometheus_sd_file_scan_duration_seconds                               
    - prometheus_sd_file_scan_duration_seconds_count                         
    - prometheus_sd_file_scan_duration_seconds_sum                           
    - prometheus_sd_file_watcher_errors_total                                
    - prometheus_sd_http_failures_total                                      
    - prometheus_sd_kubernetes_events_total                                  
    - prometheus_sd_kuma_fetch_duration_seconds                              
    - prometheus_sd_kuma_fetch_duration_seconds_count                        
    - prometheus_sd_kuma_fetch_duration_seconds_sum                          
    - prometheus_sd_kuma_fetch_failures_total                                
    - prometheus_sd_kuma_fetch_skipped_updates_total                         
    - prometheus_sd_linode_failures_total                                    
    - prometheus_sd_nomad_failures_total                                     
    - prometheus_sd_received_updates_total                                   
    - prometheus_sd_updates_total                                            
    - prometheus_target_interval_length_seconds                              
    - prometheus_target_interval_length_seconds_count                        
    - prometheus_target_interval_length_seconds_sum                          
    - prometheus_target_metadata_cache_bytes                                 
    - prometheus_target_metadata_cache_entries                               
    - prometheus_target_scrape_pool_exceeded_label_limits_total              
    - prometheus_target_scrape_pool_exceeded_target_limit_total              
    - prometheus_target_scrape_pool_reloads_failed_total                     
    - prometheus_target_scrape_pool_reloads_total                            
    - prometheus_target_scrape_pool_sync_total                               
    - prometheus_target_scrape_pool_targets                                  
    - prometheus_target_scrape_pools_failed_total                            
    - prometheus_target_scrape_pools_total                                   
    - prometheus_target_scrapes_cache_flush_forced_total                     
    - prometheus_target_scrapes_exceeded_body_size_limit_total               
    - prometheus_target_scrapes_exceeded_sample_limit_total                  
    - prometheus_target_scrapes_exemplar_out_of_order_total                  
    - prometheus_target_scrapes_sample_duplicate_timestamp_total             
    - prometheus_target_scrapes_sample_out_of_bounds_total                   
    - prometheus_target_scrapes_sample_out_of_order_total                    
    - prometheus_target_sync_failed_total                                    
    - prometheus_target_sync_length_seconds                                  
    - prometheus_target_sync_length_seconds_count                            
    - prometheus_target_sync_length_seconds_sum                              
    - prometheus_template_text_expansion_failures_total                      
    - prometheus_template_text_expansions_total                              
    - prometheus_treecache_watcher_goroutines                                
    - prometheus_treecache_zookeeper_failures_total                          
    - prometheus_tsdb_wal_completed_pages_total                              
    - prometheus_tsdb_wal_fsync_duration_seconds                             
    - prometheus_tsdb_wal_fsync_duration_seconds_count                       
    - prometheus_tsdb_wal_fsync_duration_seconds_sum                         
    - prometheus_tsdb_wal_page_flushes_total                                 
    - prometheus_tsdb_wal_segment_current                                    
    - prometheus_tsdb_wal_truncations_failed_total                           
    - prometheus_tsdb_wal_truncations_total                                  
    - prometheus_tsdb_wal_writes_failed_total                                
    - prometheus_wal_watcher_current_segment                                 
    - prometheus_wal_watcher_record_decode_failures_total                    
    - prometheus_wal_watcher_records_read_total                              
    - prometheus_wal_watcher_samples_sent_pre_tailing_total                  
    - prometheus_web_federation_errors_total                                 
    - prometheus_web_federation_warnings_total                               
    - promhttp_metric_handler_requests_in_flight                             
    - promhttp_metric_handler_requests_total                                 
    - scrape_duration_seconds                                                
    - scrape_samples_post_metric_relabeling                                  
    - scrape_samples_scraped                                                 
    - scrape_series_added                                                    
    - up
    # node exporter metric table
    - node_arp_entries                           
    - node_boot_time_seconds                     
    - node_context_switches_total                
    - node_cpu_guest_seconds_total               
    - node_cpu_seconds_total                     
    - node_disk_discard_time_seconds_total       
    - node_disk_discarded_sectors_total          
    - node_disk_discards_completed_total         
    - node_disk_discards_merged_total            
    - node_disk_flush_requests_time_seconds_total
    - node_disk_flush_requests_total             
    - node_disk_info                             
    - node_disk_io_now                           
    - node_disk_io_time_seconds_total            
    - node_disk_io_time_weighted_seconds_total   
    - node_disk_read_bytes_total                 
    - node_disk_read_time_seconds_total          
    - node_disk_reads_completed_total            
    - node_disk_reads_merged_total               
    - node_disk_write_time_seconds_total         
    - node_disk_writes_completed_total           
    - node_disk_writes_merged_total              
    - node_disk_written_bytes_total              
    - node_entropy_available_bits                
    - node_entropy_pool_size_bits                
    - node_exporter_build_info                   
    - node_filefd_allocated                      
    - node_filefd_maximum                        
    - node_filesystem_avail_bytes                
    - node_filesystem_device_error               
    - node_filesystem_files                      
    - node_filesystem_files_free                 
    - node_filesystem_free_bytes                 
    - node_filesystem_readonly                   
    - node_filesystem_size_bytes                 
    - node_forks_total                           
    - node_intr_total                            
    - node_ipvs_connections_total                
    - node_ipvs_incoming_bytes_total             
    - node_ipvs_incoming_packets_total           
    - node_ipvs_outgoing_bytes_total             
    - node_ipvs_outgoing_packets_total           
    - node_load1                                 
    - node_load15                                
    - node_load5       
    - node_memory_Active_file_bytes
    - node_memory_AnonPages_bytes
    - node_memory_Active_anon_bytes
    - node_memory_AnonHugePages_bytes
    - node_memory_Bounce_bytes
    - node_memory_Buffers_bytes
    - node_memory_Active_bytes
    - node_memory_CommitLimit_bytes
    - node_memory_Dirty_bytes
    - node_memory_FileHugePages_bytes
    - node_memory_HugePages_Free
    - node_memory_FilePmdMapped_bytes
    - node_memory_Cached_bytes
    - node_memory_MemAvailable_bytes
    - node_memory_HugePages_Surp
    - node_memory_Committed_AS_bytes
    - node_memory_MemFree_bytes
    - node_memory_HugePages_Rsvd
    - node_memory_Mapped_bytes
    - node_memory_HugePages_Total
    - node_memory_Inactive_bytes
    - node_memory_Percpu_bytes
    - node_memory_MemTotal_bytes
    - node_memory_NFS_Unstable_bytes
    - node_memory_SReclaimable_bytes
    - node_memory_Hugepagesize_bytes
    - node_memory_KReclaimable_bytes
    - node_memory_Mlocked_bytes
    - node_memory_ShmemHugePages_bytes
    - node_memory_Inactive_file_bytes
    - node_memory_Hugetlb_bytes
    - node_memory_SUnreclaim_bytes
    - node_memory_PageTables_bytes
    - node_memory_Shmem_bytes
    - node_memory_Slab_bytes
    - node_memory_SwapTotal_bytes
    - node_memory_SwapCached_bytes
    - node_memory_ShmemPmdMapped_bytes
    - node_memory_Inactive_anon_bytes
    - node_memory_SwapFree_bytes
    - node_memory_KernelStack_bytes
    - node_memory_VmallocUsed_bytes
    - node_memory_Writeback_bytes
    - node_memory_WritebackTmp_bytes
    - node_memory_VmallocChunk_bytes
    - node_memory_VmallocTotal_bytes
    - node_memory_Unevictable_bytes         
    - node_netstat_icmp6_inerrors
    - node_netstat_Icmp6_InMsgs
    - node_netstat_Icmp_InErrors
    - node_netstat_Icmp6_OutMsgs
    - node_netstat_Ip6_InOctets
    - node_netstat_Icmp_OutMsgs
    - node_netstat_IpExt_InOctets
    - node_netstat_Icmp_InMsgs
    - node_netstat_Ip_Forwarding
    - node_netstat_Ip6_OutOctets
    - node_netstat_TcpExt_ListenDrops
    - node_netstat_IpExt_OutOctets
    - node_netstat_TcpExt_ListenOverflows
    - node_netstat_TcpExt_SyncookiesRecv
    - node_netstat_TcpExt_SyncookiesFailed
    - node_netstat_TcpExt_SyncookiesSent
    - node_netstat_Tcp_CurrEstab
    - node_netstat_TcpExt_TCPSynRetrans
    - node_netstat_TcpExt_TCPTimeouts
    - node_netstat_Tcp_ActiveOpens
    - node_netstat_Tcp_InErrs
    - node_netstat_Tcp_OutRsts
    - node_netstat_Tcp_InSegs
    - node_netstat_Tcp_PassiveOpens
    - node_netstat_Tcp_OutSegs
    - node_netstat_Udp6_InDatagrams
    - node_netstat_Udp6_InErrors
    - node_netstat_Udp6_NoPorts
    - node_netstat_Udp6_RcvbufErrors
    - node_netstat_UdpLite6_InErrors
    - node_netstat_Udp6_OutDatagrams
    - node_netstat_Udp6_SndbufErrors
    - node_netstat_Tcp_RetransSegs
    - node_netstat_Udp_InErrors
    - node_netstat_UdpLite_InErrors
    - node_netstat_Udp_InDatagrams
    - node_netstat_Udp_OutDatagrams
    - node_netstat_Udp_NoPorts
    - node_netstat_Udp_RcvbufErrors
    - node_netstat_Udp_SndbufErrors    
    - node_network_address_assign_type           
    - node_network_carrier                       
    - node_network_carrier_changes_total         
    - node_network_carrier_down_changes_total    
    - node_network_carrier_up_changes_total      
    - node_network_device_id                     
    - node_network_dormant                       
    - node_network_flags                         
    - node_network_iface_id                      
    - node_network_iface_link                    
    - node_network_iface_link_mode               
    - node_network_info                          
    - node_network_mtu_bytes                     
    - node_network_name_assign_type              
    - node_network_net_dev_group                 
    - node_network_protocol_type                 
    - node_network_receive_bytes_total           
    - node_network_receive_compressed_total      
    - node_network_receive_drop_total            
    - node_network_receive_errs_total            
    - node_network_receive_fifo_total            
    - node_network_receive_frame_total           
    - node_network_receive_multicast_total       
    - node_network_receive_nohandler_total       
    - node_network_receive_packets_total         
    - node_network_speed_bytes                   
    - node_network_transmit_bytes_total          
    - node_network_transmit_carrier_total        
    - node_network_transmit_colls_total          
    - node_network_transmit_compressed_total     
    - node_network_transmit_drop_total           
    - node_network_transmit_errs_total           
    - node_network_transmit_fifo_total           
    - node_network_transmit_packets_total        
    - node_network_transmit_queue_length         
    - node_network_up                            
    - node_nf_conntrack_entries                  
    - node_nf_conntrack_entries_limit            
    - node_nf_conntrack_stat_drop                
    - node_nf_conntrack_stat_early_drop          
    - node_nf_conntrack_stat_found               
    - node_nf_conntrack_stat_ignore              
    - node_nf_conntrack_stat_insert              
    - node_nf_conntrack_stat_insert_failed       
    - node_nf_conntrack_stat_invalid             
    - node_nf_conntrack_stat_search_restart      
    - node_procs_blocked                         
    - node_procs_running                         
    - node_scrape_collector_duration_seconds     
    - node_scrape_collector_success              
    - node_selinux_enabled 
    - node_sockstat_FRAG6_memory
    - node_sockstat_FRAG_memory
    - node_sockstat_FRAG_inuse
    - node_sockstat_FRAG6_inuse
    - node_sockstat_RAW_inuse
    - node_sockstat_TCP6_inuse
    - node_sockstat_TCP_alloc
    - node_sockstat_TCP_mem_bytes
    - node_sockstat_TCP_mem
    - node_sockstat_TCP_orphan
    - node_sockstat_RAW6_inuse
    - node_sockstat_TCP_tw
    - node_sockstat_TCP_inuse
    - node_sockstat_UDPLITE_inuse
    - node_sockstat_UDPLITE6_inuse
    - node_sockstat_UDP_inuse
    - node_sockstat_UDP_mem
    - node_sockstat_UDPLITE6_inuse
    - node_sockstat_UDP6_inuse
    - node_sockstat_UDP_mem_bytes
    - node_softnet_dropped_total                 
    - node_softnet_processed_total               
    - node_softnet_times_squeezed_total          
    - node_textfile_scrape_error                 
    - node_time_clocksource_available_info       
    - node_time_clocksource_current_info         
    - node_time_seconds                          
    - node_time_zone_offset_seconds              
    - node_timex_estimated_error_seconds         
    - node_timex_frequency_adjustment_ratio      
    - node_timex_loop_time_ant              
    - node_timex_maxerror_seconds                
    - node_timex_offset_seconds                  
    - node_timex_pps_calibration_total           
    - node_timex_pps_error_total                 
    - node_timex_pps_frequency_hertz             
    - node_timex_pps_jitter_seconds              
    - node_timex_pps_jitter_total                
    - node_timex_pps_shift_seconds               
    - node_timex_pps_stability_exceeded_total    
    - node_timex_pps_stability_hertz             
    - node_timex_status                          
    - node_timex_sync_status                     
    - node_timex_tai_offset_seconds              
    - node_timex_tick_seconds                    
    - node_udp_queues                            
    - node_uname_info 
    - node_vmstat_oom_kill                       
    - node_vmstat_pgfault                        
    - node_vmstat_pgmajfault                     
    - node_vmstat_pgpgin                         
    - node_vmstat_pgpgout                        
    - node_vmstat_pswpin                         
    - node_vmstat_pswpout  
